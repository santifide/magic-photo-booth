<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Photo Booth</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white overflow-hidden">

    <!-- Hamburger Menu Icon -->
    <div id="hamburger-menu" class="absolute top-4 left-4 z-50 cursor-pointer">
        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="hidden absolute inset-0 z-40 bg-black bg-opacity-80 flex items-center justify-center">
        <div class="bg-gray-800 p-8 rounded-lg shadow-lg w-1/3">
            <h2 class="text-2xl font-bold mb-6">Configuración</h2>
            <div class="space-y-4">
                <div>
                    <label for="slideshow-interval" class="block mb-1">Intervalo del carrusel (segundos)</label>
                    <input type="number" id="slideshow-interval" class="w-full p-2 rounded bg-gray-700" min="1">
                </div>
                <div>
                    <label for="photo-countdown" class="block mb-1">Conteo para foto (segundos)</label>
                    <input type="number" id="photo-countdown" class="w-full p-2 rounded bg-gray-700" min="1">
                </div>
                <div>
                    <label for="video-duration" class="block mb-1">Duración de video (segundos)</label>
                    <input type="number" id="video-duration" class="w-full p-2 rounded bg-gray-700" min="5">
                </div>
                <div>
                    <label for="camera-choice" class="block mb-1">Cámara para fotos</label>
                    <select id="camera-choice" class="w-full p-2 rounded bg-gray-700">
                        <option value="webcam">Webcam</option>
                        <option value="reflex">Reflex (DSLR)</option>
                    </select>
                </div>
                <div class="flex items-center">
                    <input type="checkbox" id="enable-printing" class="mr-2">
                    <label for="enable-printing">Habilitar impresión de fotos</label>
                </div>
            </div>
            <button id="close-settings-btn" class="mt-6 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full">Cerrar</button>
        </div>
    </div>

    <!-- Background slideshow container -->
    <div id="background-slideshow" class="absolute inset-0 z-0">
        <!-- Background images will be loaded here by JavaScript -->
    </div>

    <!-- Overlay -->
    <div class="absolute inset-0 z-10 bg-black bg-opacity-50"></div>

    <!-- Main container -->
    <div id="main-container" class="relative z-20 flex items-center justify-center h-screen">
        <!-- "Comenzar" button -->
        <div id="start-button" class="flex items-center justify-center w-1/4 h-1/4 bg-white bg-opacity-20 border-4 border-white rounded-lg cursor-pointer backdrop-blur-sm">
            <h1 class="text-4xl font-bold">comenzar</h1>
        </div>

        <!-- Main menu (hidden by default) -->
        <div id="main-menu" class="hidden">
            <button id="take-photo-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg text-2xl m-4">TOMAR FOTO</button>
            <button id="record-video-btn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-lg text-2xl m-4">GRABAR VIDEOSALUDO</button>
            <button id="view-gallery-btn" class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-4 px-8 rounded-lg text-2xl m-4">VER GALERÍA</button>
        </div>
    </div>

    <div id="photo-booth" class="hidden absolute inset-0 z-30 bg-black flex-col items-center justify-center">
        <video id="webcam" autoplay class="w-full h-full"></video>
        <div id="countdown" class="absolute text-9xl font-bold text-white" style="text-shadow: 0 0 20px black;"></div>
        <div id="flash" class="hidden absolute inset-0 z-40 bg-white"></div>
        <canvas id="canvas" class="hidden"></canvas>
        <img id="photo-preview" class="hidden w-full h-full object-contain">
        <div id="photo-options" class="hidden absolute bottom-10 flex space-x-4">
            <button id="print-btn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">Imprimir</button>
            <button id="delete-btn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Borrar y tomar otra</button>
            <button id="save-btn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Guardar foto</button>
        </div>
    </div>

    <div id="video-booth" class="hidden absolute inset-0 z-30 bg-black flex-col items-center justify-center">
        <video id="video-webcam" autoplay class="w-full h-full"></video>
        <div id="video-countdown" class="absolute text-9xl font-bold text-white" style="text-shadow: 0 0 20px black;"></div>
        <div id="recording-timer" class="hidden absolute top-10 text-4xl font-bold text-red-500"></div>
        <div id="video-controls" class="hidden absolute bottom-10 flex space-x-4">
            <button id="pause-resume-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Pausar</button>
            <button id="stop-btn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Stop</button>
            <button id="add-time-btn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">+10s</button>
        </div>
        <video id="video-preview" controls class="hidden w-full h-full"></video>
        <div id="video-options" class="hidden absolute bottom-10 flex space-x-4">
            <button id="play-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Reproducir</button>
            <button id="save-video-btn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Guardar video</button>
            <button id="discard-video-btn" class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded">Descartar y grabar otro</button>
            <button id="cancel-video-btn" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">Cancelar</button>
        </div>
    </div>

    <div id="gallery-view" class="hidden absolute inset-0 z-30 bg-black flex-col items-center p-4">
        <button id="back-to-menu-btn" class="absolute top-4 right-4 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">Volver al Menú</button>
        <h2 class="text-3xl font-bold mb-4">Galería</h2>
        <div id="gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto w-full">
            <!-- Gallery items will be loaded here -->
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>